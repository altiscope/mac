#!/bin/bash

help(){
	printf "Usage:\n"
	printf "\t atom\t\t: Install GitHub Atom editor.\n"
	printf "\t awscli\t\t: Install AWS CLIGit.\n"
	printf "\t brew\t\t: Install Homebrew.\n"
	printf "\t docker\t\t: Install Docker and associated toolchain.\n"
	printf "\t minikube\t: Install Docker minikube.\n"
	printf "\t vagrant\t: Install vagrant.\n"
	printf "\t virtualbox\t: Install VirtualBox.\n"
	printf "\t help\t\t: Show this help.\n"
}

install_atom(){
	brew cask install atom
}

install_awscli(){
	brew install awscli
}

install_brew(){
	command -v brew
	if [ "$?" -eq 1 ]; then
		printf "Installing brew...\n"
		/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
	fi
}

install_docker(){
	# See https://stackoverflow.com/questions/40523307/brew-install-docker-does-not-include-docker-engine
	brew cask install docker
}

install_minikube(){
	brew cask install minikube
}

install_tree(){
	brew install tree
}

install_vagrant(){
	brew cask install vagrant
}

install_watch(){
	brew install watch
}

CMD=$1
case "$CMD" in
	atom)
		install_atom
		;;
	awscli)
		install_awscli
		;;
	brew)
		install_brew
		;;
	docker)
		install_docker
		;;
	minikube)
		install_minikube
		;;
	vagrant)
		install_vagrant
		;;
	virtualbox)
		./src/bin/virtualbox "${@:2}"
		;;
	* | -h | help)
		help
		;;
esac
